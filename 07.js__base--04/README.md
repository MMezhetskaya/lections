### Область видимости
Глобальность. Глобальными называют переменные и функции, которые не находятся внутри какой-то функции. То есть, иными словами, если переменная или функция не находятся внутри конструкции function, то они – «глобальные».

В JavaScript все глобальные переменные и функции являются свойствами специального объекта, который называется «глобальный объект» (global object).
 

```js
var a = 5; // объявление var создаёт свойство window.a
alert( window.a ); // 5
```

### Порядок инициализации
Фазы:
- инициализация Function Declaration, var
- выполнение, var = undefined => var = data

```js
// На момент инициализации, до выполнения кода:
// window = { f: function, a: undefined, g: undefined }

var a = 5;
// window = { f: function, a: 5, g: undefined }

function f(arg) { /*...*/ }
// window = { f: function, a: 5, g: undefined } без изменений, f обработана ранее

var g = function(arg) { /*...*/ };
// window = { f: function, a: 5, g: function }
```

Не важно, где и сколько раз объявлена переменная
Объявлений var может быть сколько угодно:

```js
var i = 10;

for (var i = 0; i < 20; i++) {
  ...
}

var i = 5;
```

Все var будут обработаны один раз, на фазе инициализации.

### Лексическое окружение
Все переменные внутри функции – это свойства специального внутреннего объекта LexicalEnvironment, который создаётся при её запуске.

```js
function sum(a, b) { 
    var title = 'Сумма равна: ';
    debugger;
    console.log(title, a + b);
};
sum(3, 4);
```

### Доступ ко внешним переменным 
Интерпретатор, при доступе к переменной, сначала пытается найти переменную в текущем LexicalEnvironment, а затем, если её нет – ищет во внешнем объекте переменных. В данном случае им является window.

```js
[[Scope]]
var title = 'Сумма равна: ';

function sum(a, b) { 
    debugger;
    console.log(title, a + b);
};
sum(3, 4);
```

- Каждая функция при создании получает ссылку [[Scope]] на объект с переменными, в контексте которого была создана.
- При запуске функции создаётся новый объект с переменными LexicalEnvironment. Он получает ссылку на внешний объект переменных из [[Scope]].
- При поиске переменных он осуществляется сначала в текущем объекте переменных, а потом – по этой ссылке.

### Всегда текущее значение

```js
[[Scope]]
var title = 'Сумма равна: ';

function sum(a, b) { 
    debugger;
    console.log(title, a + b);
};

sum(3, 4);

title = 'Уже что-то другое: ';

sum(5, 7);
```

### Вложенные функции

```js
var phrase = 'Привет';

function say() {

  function go() {
    alert( phrase ); // найдёт переменную снаружи
  }

  go();
}

say();
```

### Возврат функции

### Свойства функции

### Заключение

### ДЗ